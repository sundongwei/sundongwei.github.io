---
title: 'ğŸ‰ Install Protobuf'
date: 2024-11-01
permalink: /posts/2013/08/blog-post-2/
tags:
  - Academic
  - Technology
  - AI

---
1. **ä¾èµ–**

```Shell
sudo apt-get install autoconf automake libtool
curl make g++ unzip
```

```Shell
git clone
https://github.com/protocolbuffers/protobuf.git
cd protobuf
git submodule update --init --recursive
./autogen.sh
```

1. **to build and install the C++ Protocol Buffer runtime and the Protocol Buffer compiler (protoc) execute the following:**

    ```Shell
    ./configure --prefix=æŒ‡å®šè·¯å¾„
    make
    make check
    sudo make install
    sudo ldconfig # refresh shared library cache.
    
    åˆ°æ­¤æ­¥è¿˜æ²¡æœ‰å®‰è£…å®Œæ¯•ï¼Œ
    ####### add protobuf lib path ######
    
    #ï¼ˆåŠ¨æ€åº“æœç´¢è·¯å¾„ï¼‰ç¨‹åºåŠ è½½è¿è¡ŒæœŸé—´æŸ¥æ‰¾åŠ¨æ€é“¾æ¥åº“æ—¶æŒ‡å®šé™¤äº†ç³»ç»Ÿé»˜è®¤è·¯å¾„ä¹‹å¤–çš„å…¶ä»–è·¯å¾„
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/protobuf/lib/ 
    
    #ï¼ˆé™æ€åº“æœç´¢è·¯å¾„ï¼‰ç¨‹åºç¼–è¯‘æœŸé—´æŸ¥æ‰¾åŠ¨æ€é“¾æ¥åº“æ—¶æŒ‡å®šæŸ¥æ‰¾å…±äº«åº“çš„è·¯å¾„
    export LIBRARY_PATH=$LIBRARY_PATH:/usr/local/protobuf/lib/
    
    #æ‰§è¡Œç¨‹åºæœç´¢è·¯å¾„
    export PATH=$PATH:/usr/local/protobuf/bin/ 
    
    #cç¨‹åºå¤´æ–‡ä»¶æœç´¢è·¯å¾„
    export C_INCLUDE_PATH=$C_INCLUDE_PATH:/usr/local/protobuf/include/ 
    
    #C++ç¨‹åºå¤´æ–‡ä»¶æœç´¢è·¯å¾„
    export CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE _PATH:/usr/local/protobuf/include/ 
    
    #pkgâ€” config è·¯å¾„
    export PKG_CONFIG PATH=/usr/local/protobuf/lib/pkgconfig/
    ###############################################
    ```

    ![image.png](https://s2.loli.net/2024/11/01/F1nboieVIu7Yy39.png)

    ![image 1.png](https://s2.loli.net/2024/11/01/G2HsScLXIBFaw49.png)

1. **ç¼–è¯‘Python**

    ```Shell
    cd python
    python setup.py build 
    python setup.py test
    python setup.py install
    ```

     éªŒè¯

    ```Shell
    python
    import google.protobuf
    ```

    å¸è½½

    ```Shell
    sudo rm /usr/local/bin/protoc //æ‰§â¾â½‚ä»¶
    sudo rm -rf /usr/local/include/google //å¤´â½‚ä»¶
    sudo rm -rf /usr/local/lib/libproto* //åº“â½‚ä»¶
    ```